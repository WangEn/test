(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-338ae143"],{"0361":function(t,s,o){},"2d11":function(t,s,o){"use strict";var e=o("ab99"),n=o.n(e);n.a},"31b7":function(t,s,o){"use strict";var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("ul",{staticClass:"switches"},t._l(t.switches,function(s,e){return o("li",{key:e,staticClass:"switch-item",class:{active:t.currentIndex===e},on:{click:function(s){return t.switchItem(e)}}},[o("span",[t._v(t._s(s.name))])])}),0)},n=[],i=(o("c5f6"),{props:{switches:{type:Array,default:function(){return[]}},currentIndex:{type:Number,default:0}},methods:{switchItem:function(t){this.$emit("switch",t)}}}),a=i,c=(o("984f"),o("2877")),r=Object(c["a"])(a,e,n,!1,null,"189771df",null);s["a"]=r.exports},"984f":function(t,s,o){"use strict";var e=o("0361"),n=o.n(e);n.a},a6ff:function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"container"},[o("div",{staticClass:"header"},[o("div",{staticClass:"back",on:{click:t.back}},[o("i",{staticClass:"icon-arrow icon-arrow-l"}),t._v("\n            "+t._s(t.name)+"\n        ")])]),o("div",{staticClass:"list"},[o("cube-scroll",{ref:"scroll",staticClass:"book-list-wrap",attrs:{data:t.bookList,options:t.options},on:{"pulling-up":t.onPullingUp}},[o("div",{staticClass:"book-list"},t._l(t.bookList,function(s){return o("a",{key:s.book_id,staticClass:"book-item",attrs:{href:"javascript:;"},on:{click:function(o){return t.goBook(s.book_id)}}},[o("div",{staticClass:"cover"},[o("img",{attrs:{src:s.book_cover}})]),o("div",{staticClass:"text"},[o("h3",[t._v(t._s(s.book_name))]),o("p",{staticClass:"brief"},[t._v(t._s(s.book_brief))]),o("div",{staticClass:"other"},[o("span",{staticClass:"author"},[t._v(t._s(s.author_name))]),o("span",{staticClass:"category"},[t._v(t._s(s.category_name))]),1==s.book_is_action?o("span",{staticClass:"status status2"},[t._v("完结")]):o("span",{staticClass:"status"},[t._v("连载")])])])])}),0)])],1)])},n=[],i=(o("7f7f"),o("31b7")),a={data:function(){return{currentIndex:0,name:"列表",bookList:[],height:0,categoryActive:0,scrollTop:0,scrollHeight:0,pageIndex:1,typeId:2714,isShowMore:!1,pullUpLoad:!0,pullUpLoadThreshold:0,pullUpLoadMoreTxt:"加载中...",pullUpLoadNoMoreTxt:"没有更多数据啦"}},computed:{options:function(){return{pullUpLoad:this.pullUpLoadObj}},pullUpLoadObj:function(){return!!this.pullUpLoad&&{threshold:parseInt(this.pullUpLoadThreshold),txt:{more:this.pullUpLoadMoreTxt,noMore:this.pullUpLoadNoMoreTxt}}}},created:function(){this.typeId=this.$route.params.id,console.log(this.typeId),this.getBookTypes()},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.scroll.refresh()})},methods:{switchItem:function(t){this.currentIndex=t,this.getBookSort(t+1)},back:function(){this.$router.back()},search:function(){console.log("点击了搜索Search..")},changeHandler:function(t){console.log("changed to:",t)},stickyChangeHandler:function(t){console.log("sticky-change",t)},getBookTypes:function(){var t=this,s={type_id:this.typeId,pn:this.pageIndex};this.$post("/book/types",s).then(function(s){if(1e4===s.code){var o=s.result.book_list;if(t.bookList=t.bookList.concat(o),1==t.pageIndex&&(t.name=s.result.name),t.isShowMore=o&&o.length,t.isShowMore)setTimeout(function(){t.$refs.scroll.refresh()},500);else{var e=t.$createToast({txt:"暂无更多书籍",type:"txt",mask:!0,time:2e3});e.show(),t.pullUpLoad=!1,t.$refs.scroll.forceUpdate()}}})},onPullingUp:function(){var t=this;setTimeout(function(){t.pageIndex+=1,t.getBookTypes()},1e3)},goBook:function(t){this.$router.push({path:"/book/".concat(t)})}},components:{Switches:i["a"]}},c=a,r=(o("2d11"),o("2877")),l=Object(r["a"])(c,e,n,!1,null,"79d2ed65",null);s["default"]=l.exports},ab99:function(t,s,o){}}]);
//# sourceMappingURL=chunk-338ae143.ec7dbfed.js.map