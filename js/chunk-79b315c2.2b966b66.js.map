{"version":3,"sources":["webpack:///./src/components/rank/rank.vue?4f18","webpack:///./src/components/switches/switches.vue?6dbf","webpack:///src/components/switches/switches.vue","webpack:///./src/components/switches/switches.vue?8a9d","webpack:///./src/components/switches/switches.vue?6ff5","webpack:///./src/components/rank/rank.vue?b826","webpack:///src/components/rank/rank.vue","webpack:///./src/components/rank/rank.vue?fdab","webpack:///./src/components/rank/rank.vue?1d46","webpack:///./src/components/switches/switches.vue?45bb"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_rank_vue_vue_type_style_index_0_id_6055b410_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_rank_vue_vue_type_style_index_0_id_6055b410_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","class","active","currentIndex","on","click","$event","switchItem","_v","_s","name","staticRenderFns","switchesvue_type_script_lang_js_","props","switches","type","Array","default","Number","methods","$emit","switches_switchesvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","back","attrs","switch","categoryActive","getBookTypes","type_id","type_name","ref","data","bookList","options","pulling-up","onPullingUp","book","book_id","to","src","book_cover","book_name","book_brief","author_name","category_name","book_is_action","rankvue_type_script_lang_js_","ranklist","categoryList","height","scrollTop","scrollHeight","sexType","pageIndex","typeId","isShowMore","pullUpLoad","pullUpLoadThreshold","pullUpLoadMoreTxt","pullUpLoadNoMoreTxt","computed","pullUpLoadObj","threshold","parseInt","txt","more","noMore","mounted","_this","getBookSort","$nextTick","$refs","scroll","refresh","$router","search","console","log","changeHandler","label","stickyChangeHandler","current","num","_this2","gender","$post","then","res","code","result","id","idx","_this3","pn","book_list","concat","length","setTimeout","toast","$createToast","mask","time","show","forceUpdate","_this4","components","Switches","rank_rankvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_switches_vue_vue_type_style_index_0_id_189771df_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_switches_vue_vue_type_style_index_0_id_189771df_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-79b315c2.2b966b66.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=6055b410&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=6055b410&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"switches\"},_vm._l((_vm.switches),function(item,index){return _c('li',{key:index,staticClass:\"switch-item\",class:{'active':_vm.currentIndex === index},on:{\"click\":function($event){return _vm.switchItem(index)}}},[_c('span',[_vm._v(_vm._s(item.name))])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <ul class=\"switches\">\n        <li\n            class=\"switch-item\"\n            v-for=\"(item,index) in switches\"\n            :key=\"index\"\n            :class=\"{'active':currentIndex === index}\"\n            @click=\"switchItem(index)\"\n        >\n            <span>{{item.name}}</span>\n        </li>\n    </ul>\n</template>\n\n<script type=\"text/ecmascript-6\">\nexport default {\n    props: {\n        switches: {\n            type: Array,\n            default: function() {\n                return []\n            }\n        },\n        currentIndex: {\n            type: Number,\n            default: 0\n        }\n    },\n    methods: {\n        switchItem(index) {\n            this.$emit('switch', index)\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import 'common/stylus/variable'\n.switches\n    display flex\n    align-items center\n    width 120px\n    margin 0 auto\n    .switch-item\n        flex 1\n        padding 8px\n        text-align center\n        font-size $font-size-medium\n        color $color-theme\n        border 1px solid $color-theme\n        border-radius 0 14px 14px 0\n        &:nth-of-type(1)\n            border-radius 14px 0 0 14px\n        &.active\n            background $color-theme\n            color $color-text\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./switches.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./switches.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./switches.vue?vue&type=template&id=189771df&scoped=true&\"\nimport script from \"./switches.vue?vue&type=script&lang=js&\"\nexport * from \"./switches.vue?vue&type=script&lang=js&\"\nimport style0 from \"./switches.vue?vue&type=style&index=0&id=189771df&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"189771df\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sort\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-arrow icon-arrow-l\"}),_vm._v(\"排行\\n      \")]),_c('div',{staticClass:\"switches-wrapper\"},[_c('switches',{attrs:{\"switches\":_vm.switches,\"currentIndex\":_vm.currentIndex},on:{\"switch\":_vm.switchItem}})],1),_c('div',{staticClass:\"search\"})]),_c('ul',{staticClass:\"tab\"},_vm._l((_vm.categoryList),function(item,index){return _c('li',{key:index,class:index==_vm.categoryActive?'active':'',on:{\"click\":function($event){return _vm.getBookTypes(item.type_id, index)}}},[_c('span',[_vm._v(_vm._s(item.type_name))])])}),0),_c('div',{staticClass:\"list\"},[_c('cube-scroll',{ref:\"scroll\",staticClass:\"book-list-wrap\",attrs:{\"data\":_vm.bookList,\"options\":_vm.options},on:{\"pulling-up\":_vm.onPullingUp}},[_c('div',{staticClass:\"book-list\"},_vm._l((_vm.bookList),function(book){return _c('router-link',{key:book.book_id,staticClass:\"book-item\",attrs:{\"to\":'/book/'+book.book_id}},[_c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":book.book_cover}})]),_c('div',{staticClass:\"text\"},[_c('h3',[_vm._v(_vm._s(book.book_name))]),_c('p',{staticClass:\"brief\"},[_vm._v(\"\\n                              \"+_vm._s(book.book_brief)+\"\\n                          \")]),_c('div',{staticClass:\"other\"},[_c('span',{staticClass:\"author\"},[_vm._v(_vm._s(book.author_name))]),_c('span',{staticClass:\"category\"},[_vm._v(_vm._s(book.category_name))]),(book.book_is_action==true)?_c('span',{staticClass:\"status status2\"},[_vm._v(\"完结\")]):_c('span',{staticClass:\"status\"},[_vm._v(\"连载\")])])])])}),1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- <transition name=\"slide\"> -->\n    <div class=\"sort\">\n      <div class=\"header\">\n        <div class=\"back\" @click=\"back\">\n          <i class=\"icon-arrow icon-arrow-l\"></i>排行\n        </div>\n        <div class=\"switches-wrapper\">\n          <switches @switch=\"switchItem\" :switches=\"switches\" :currentIndex=\"currentIndex\"></switches>\n        </div>\n        <div class=\"search\"></div>\n      </div>\n      <ul class=\"tab\">\n            <!-- <li class=\"switch-item\" v-for=\"(item,index) in ranklist\" :key=\"index\" :class=\"{'active':currentIndex === index}\"\n                @click=\"switchItem(index)\">\n                \n            </li> -->\n            <li v-for=\"(item,index) in categoryList\"\n                @click=\"getBookTypes(item.type_id, index)\"\n                :key=\"index\" :class=\"index==categoryActive?'active':''\">\n                <span>{{item.type_name}}</span>\n            </li>\n      </ul>\n      \n      <div class=\"list\">\n            \n            <cube-scroll\n                ref=\"scroll\"\n                :data=\"bookList\"\n                :options=\"options\"\n                @pulling-up=\"onPullingUp\"\n                class=\"book-list-wrap\">\n                <!-- <vert-more :booklist=\"bookList\"></vert-more> -->\n                <div class=\"book-list\">\n                    <router-link  \n                        class=\"book-item\"\n                        v-for=\"book in bookList\"\n                        :key=\"book.book_id\"\n                        :to=\"'/book/'+book.book_id\">\n                        <div class=\"cover\">\n                            <img :src=\"book.book_cover\">    \n                        </div>    \n                        <div class=\"text\">\n                            <h3>{{book.book_name}}</h3>\n                            <p class=\"brief\">\n                                {{book.book_brief}}\n                            </p>\n                            <div class=\"other\">\n                                <span class=\"author\">{{book.author_name}}</span>\n                                <span class=\"category\">{{book.category_name}}</span>\n                                <span class=\"status status2\" v-if=\"book.book_is_action==true\">完结</span>\n                                <span class=\"status\" v-else>连载</span>\n                            </div>\n                        </div>\n                    </router-link>\n                </div>\n            </cube-scroll>\n      </div>\n    \n    \n    </div>\n  <!-- </transition> -->\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport Switches from \"components/switches/switches\"\n// import VertMore from 'components/book/vert-more'\n\nexport default {\n    data() {\n        return {\n            currentIndex: 0,\n            switches: [\n                {\n                    name: \"男生\"\n                },\n                {\n                    name: \"女生\"\n                }\n            ],\n            ranklist: [\n                {\n                    name: \"人气榜\"\n                },\n                {\n                    name: \"完本榜\"\n                },\n                {\n                    name: \"潜力榜\"\n                }\n            ],\n\n            categoryList: [], // 分类\n            bookList: [], // 书籍列表\n            height: 0,\n            categoryActive: 0,\n            scrollTop: 0,\n            scrollHeight: 0,\n            sexType: 1, // 性别标识 男1 女2\n            pageIndex: 1, // 初始页面1\n            typeId: 0,\n            isShowMore: false, // 是否获取到更多数据\n            pullUpLoad: true,\n            pullUpLoadThreshold: 0,\n            pullUpLoadMoreTxt: '加载中...',\n            pullUpLoadNoMoreTxt: '没有更多数据啦',\n        }\n    },\n    computed: {\n        options() {\n            return {\n                pullUpLoad: this.pullUpLoadObj\n            }\n        },\n        pullUpLoadObj: function() {\n            return this.pullUpLoad ? {\n                threshold: parseInt(this.pullUpLoadThreshold),\n                txt: {\n                    more: this.pullUpLoadMoreTxt,\n                    noMore: this.pullUpLoadNoMoreTxt\n                }\n            } : false\n        }\n    },\n    mounted(){\n        this.getBookSort()\n        this.$nextTick(()=>{\n            this.$refs.scroll.refresh() \n        })\n    },\n    methods: {\n        switchItem(index) {\n            this.currentIndex = index\n            this.getBookSort(index+1)\n        },\n        back() {\n            this.$router.back();\n        },\n        search(){\n            console.log('点击了搜索Search..')\n        },\n        changeHandler(label) {\n            console.log('changed to:', label)\n        },\n        stickyChangeHandler(current) {\n            console.log('sticky-change', current)\n        },\n        getBookSort(num) {\n            this.sexType = num? num: this.sexType\n            this.categoryActive = 0\n            let gender = this.sexType==2? 0: 1\n            let data = {\n                type: 2,\n                gender: gender\n            }\n            this.$post('/book/ranks', data)\n                .then((res) => {\n                    // console.log(res)\n                    if(res.code === 10000){\n                        this.categoryList = res.result\n                        let typeId = res.result[0].type_id\n                        this.getBookTypes(typeId)\n                    }\n                })\n        },\n        getBookTypes(id, idx) {\n            // 获取书籍\n            if(id){\n                // 切换分类，初始化\n                this.typeId = id\n                this.pageIndex = 1\n                this.bookList = []\n                this.isShowMore = false\n                this.pullUpLoad = true\n            }\n            if(idx || idx===0){\n                console.log('index:'+idx)\n                this.categoryActive = idx;\n                // console.log('scrollHeight:'+ this.scrollHeight)\n                // this.scrollTop = -this.scrollHeight * idx;\n                // this.scrollTop = -this.scrollHeight;\n            }\n            let data = {\n                type_id: this.typeId,\n                pn: this.pageIndex\n            }\n            this.$post('/book/types', data)\n                .then((res) => {\n                    // console.log(res)\n                    if(res.code === 10000){\n                        let result = res.result.book_list\n                        this.bookList = this.bookList.concat(result)\n                        \n                        this.isShowMore = result && result.length\n                        if(this.isShowMore){\n                            //有新数据\n                            setTimeout(()=>{\n                                this.$refs.scroll.refresh()\n                            }, 500) \n                        }else{\n                            const toast = this.$createToast({\n                                txt: '暂无更多书籍',\n                                type: 'txt',\n                                mask: true,\n                                time: 2000\n                            })\n                            toast.show()\n                            this.pullUpLoad = false\n                            this.$refs.scroll.forceUpdate()\n                        }\n                    }\n                })\n        },\n        onPullingUp() {\n            // 更新数据\n            setTimeout(() => {\n                this.pageIndex += 1\n                this.getBookTypes()\n                \n            }, 1000)\n        }\n    },\n    components: {\n        Switches,\n        // VertMore\n    }\n}\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n    @import 'common/stylus/variable'\n    @import 'common/stylus/mixin'\n    .header\n        width 345px\n        height 45px\n        padding 0 15px\n        we-flex()\n        justify-content space-between\n        align-items center\n        border-bottom 1px solid #EBEBEB\n        .back\n            font-size 15px\n        .switches-wrapper\n            display inline-block\n        .search\n            &-icon\n                width 20px\n                height 20px\n                display inline-block\n                background-size 20px 20px\n                bg-image('search')\n                vertical-align middle\n\n\n    // 空心箭头的基础-向右\n    .icon-arrow\n        border-right 1px solid @color-text-d\n        border-top 1px solid @color-text-d\n        height 10px\n        width 10px\n        -webkit-transform rotate(45deg)\n        transform rotate(45deg)\n        border-color #000000\n        border-left none\n        border-bottom none\n        display inline-block\n\n    // 左空心箭头\n    .icon-arrow-l\n        -webkit-transform rotate(-135deg)\n        transform rotate(-135deg)\n\n    .tab\n        width 345px\n        margin 0 auto \n        we-flex()\n        justify-content space-between\n        border-bottom 1px solid #EEEEEE\n        li\n            flex 1\n            margin 10px 0\n            text-align center\n            font-size $font-size-medium\n            color #666666\n            \n            span \n                padding 2px 10px\n                line-height 30px\n                \n            &.active\n                span \n                    border 1px solid $color-theme\n                    border-radius 15px\n                    background $color-theme\n                    color $color-text\n\n    .sort\n        position fixed\n        top 0\n        bottom 0\n        z-index 100\n        width 100%\n        background $color-background\n\n    &.slide-enter-active, &.slide-leave-active\n        transition all 0.3s\n\n    &.slide-enter, &.slide-leave-to \n        transform translate3d(100%, 0, 0)\n\n    .list\n        width 375px\n        margin 0 auto \n        we-flex()\n        align-items flex-start\n        justify-content space-between\n        background #f1f1f1\n \n\n    .book-list-wrap\n        width 100%\n        height calc(100vh - 86px)\n        padding 0 15px 40px\n        background #ffffff\n\n\n    .book-list\n        we-flex()\n        justify-content space-between\n        flex-direction column\n        .book-item\n            width 100%\n            height 98px\n            we-flex()\n            justify-content space-between\n            padding 20px 0\n            \n            & ~ .book-item\n                border-top 1px solid #f4f4f4\n            .cover\n                width 66.5px\n                height 90px\n                img\n                    display block\n                    width 100%\n                    height auto\n                    border 1px solid rgba(234, 234, 234, 1)\n                    box-shadow 0 0 5px 0 rgba(0, 0, 0, 0.4)\n            .text\n                width calc(100% - 86px)\n                font-size 14px\n                font-weight 500\n                color #000000\n                line-height 1.8\n                we-flex()\n                flex-direction column\n                justify-content space-between\n                align-items flex-start\n                text-align left \n                .name\n                    font-size 17px\n                .brief\n                    color #8A8A8A\n                    font-size 13px\n                    font-weight 400\n                    line-height 1.5\n                    word-break break-all\n                    display -webkit-box\n                    overflow hidden\n                    -o-text-overflow ellipsis\n                    text-overflow ellipsis\n                    -webkit-box-orient vertical\n                    -webkit-line-clamp 2\n                \n                .other\n                    font-size 13px\n                    line-height 1.5\n                    color #626262\n                    width 100%\n                    margin-top 5px\n                    .author\n                        float left\n                        color #626262\n                    .status\n                        font-size: 10px\n                        float right\n                        color #ffffff\n                        background #FC9647\n                        border-radius 2px\n                        padding 0 5px\n                        &.status2\n                            background #FF5331\n                    .category\n                        font-size 10px\n                        float right\n                        color #FFFFFF\n                        background #9FA8FF\n                        border-radius 2px\n                        margin-left 5px\n                        padding 0 5px\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rank.vue?vue&type=template&id=6055b410&scoped=true&\"\nimport script from \"./rank.vue?vue&type=script&lang=js&\"\nexport * from \"./rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rank.vue?vue&type=style&index=0&id=6055b410&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6055b410\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./switches.vue?vue&type=style&index=0&id=189771df&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./switches.vue?vue&type=style&index=0&id=189771df&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\""],"sourceRoot":""}