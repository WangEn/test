(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4251ec72"],{"02f2":function(t,o,e){"use strict";var a=e("87b5"),s=e.n(a);s.a},"87b5":function(t,o,e){},a4df:function(t,o,e){"use strict";var a=e("f332"),s=e.n(a);s.a},f332:function(t,o,e){},f728:function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",{staticClass:"container"},[e("cube-sticky",{attrs:{pos:t.scrollY,"check-top":t.checkTop,"fixed-show-ani":"sticky-fixed-show"},on:{"diff-change":t.diffChange}},[e("cube-scroll",{attrs:{"scroll-events":t.scrollEvents},on:{scroll:t.scrollHandler}},[e("div",{staticClass:"header"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"icon-arrow icon-arrow-l"})]),e("div",{staticClass:"title"},[t._v("书籍详情")]),e("div",{staticClass:"search"})]),e("cube-sticky-ele",[e("div",{staticClass:"sticky-header"},[t._v("书籍详情")])]),e("div",{staticClass:"details"},[e("img",{staticClass:"bg",attrs:{src:t.bookDetail.book_cover}}),e("div",{staticClass:"content"},[e("img",{attrs:{src:t.bookDetail.book_cover}}),e("div",{staticClass:"text"},[e("h3",[t._v(t._s(t.bookDetail.book_name))]),e("h4",[t._v(t._s(t.bookDetail.author_name))]),e("div",[e("span",[t._v(t._s(t.bookDetail.book_is_action?"已完结":"连载中"))]),e("em",[t._v("|")]),e("span",[t._v(t._s(t.bookDetail.category_name))]),e("em",[t._v("|")]),e("span",[t._v(t._s(t.bookDetail.book_word_num))])]),e("p",[t._v(t._s(t.bookDetail.book_read_num)+"人阅读")])])]),e("div",{class:["brief",t.isOpenState?"":"hide"],on:{click:function(o){return t.changeOpenState()}}},[t._v("\n                        简介："+t._s(t.bookDetail.book_brief)+"\n                        "),e("div",{staticClass:"icon"},[e("span",{class:["icon-arrow",t.isOpenState?"icon-arrow-t":"icon-arrow-b"]})])])]),e("div",{staticClass:"readbtn"},[e("ul",{staticClass:"read"},[e("li",[t._v("加入书架")]),e("li",{on:{click:function(o){return t.goRead(t.bookId,t.bookDetail.chapter_new_id)}}},[t._v("立即阅读")])]),e("div",{staticClass:"download"},[t._v("下载小说App · 免费畅读更多精彩内容")]),e("div",{staticClass:"chapter",on:{click:function(o){return t.goCatalog(t.bookId)}}},[e("div",{staticClass:"chapter-name"},[t._v(t._s(t.bookDetail.chapter_new_name)+t._s(t.bookDetail.chapter_new_name))]),e("div",{staticClass:"chapter-show"},[t._v("\n                            查看目录\n                            "),e("i",{staticClass:"icon-arrow"})])])]),e("hori-four",{attrs:{moduleName:"猜你喜欢",bookList:t.recommendList,moduleType:1},on:{refresh:t.refresh}}),e("hori-four",{attrs:{moduleName:"大家都在看",bookList:t.allReadList,moduleType:2},on:{refresh:t.refresh}})],1),e("div",{ref:"stickyHeader",staticClass:"header sticky-header",attrs:{slot:"fixed"},slot:"fixed"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"icon-arrow icon-arrow-l"})]),e("div",{staticClass:"title"},[t._v(t._s(t.bookDetail.book_name))]),e("div",{staticClass:"search"})])],1)],1)])},s=[],i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.bookList.length?e("div",{staticClass:"module"},[e("div",{staticClass:"title"},[t._v("\n        "+t._s(t.moduleName)+"\n    ")]),e("div",{staticClass:"book-list"},t._l(t.bookList,function(o){return e("a",{key:o.book_id,staticClass:"book-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.goBook(o.book_id)}}},[e("div",{staticClass:"cover"},[e("img",{attrs:{src:o.book_cover}})]),e("div",{staticClass:"text"},[t._v("\n                "+t._s(o.book_name)+"\n            ")])])}),0),e("div",{staticClass:"more",on:{click:function(o){return t.goRefresh(t.moduleType)}}},[e("span",[t._v("换一换")])])]):t._e()},n=[],c=(e("c5f6"),{name:"HoriThree",props:{bookList:{type:Array,default:function(){return[]}},moduleName:{type:String,default:""},moduleType:{type:Number,default:1}},methods:{goBook:function(t){this.$router.push({path:"/book/".concat(t)}),this.$forceUpdate()},goRefresh:function(t){this.$emit("refresh",t)}}}),r=c,l=(e("02f2"),e("2877")),d=Object(l["a"])(r,i,n,!1,null,"bb2a13a6",null),u=d.exports,h={name:"Details",data:function(){return{scrollEvents:["scroll"],scrollY:0,checkTop:!1,isOpenState:!1,bookId:0,bookFromId:0,categoryId:0,bookDetail:{},recommendList:[],allReadList:[]}},created:function(){this.bookId=this.$route.params.id,this.getNovelDetail()},methods:{scrollHandler:function(t){var o=t.y;this.scrollY=-o},diffChange:function(t,o){var e=0;o&&(e=t/o),this.$refs.stickyHeader.style.opacity=e},getNovelDetail:function(){var t=this,o={nid:this.bookId};this.$post("/novel/detail",o).then(function(o){1e4===o.code&&(t.bookDetail=o.result,t.bookDetail.book_read_num=t.formatNumber(t.bookDetail.book_read_num),t.bookDetail.book_word_num=t.formatNumber(t.bookDetail.book_word_num),t.bookFromId=o.result.book_from_id,t.categoryId=o.result.category_id,t.getNovelRecommend(),t.getTypeChange())})},getNovelRecommend:function(){var t=this,o={nid:this.bookId,tid:this.categoryId};this.$post("/novel/recommend",o).then(function(o){1e4===o.code&&(t.recommendList=o.result)})},getTypeChange:function(){var t=this,o={type_id:11,pn:1,count:3};this.$post("/book/types_change",o).then(function(o){1e4===o.code&&(t.allReadList=o.result)})},formatNumber:function(t){return t>1e4?(t/1e4).toFixed(2)+"万":t},changeOpenState:function(){this.isOpenState=!this.isOpenState},refresh:function(t){2==t?this.getTypeChange():this.getNovelRecommend()},back:function(){this.$router.back()},goCatalog:function(t){this.$router.push({path:"/catalog/".concat(t)})},goRead:function(t,o){console.log("阅读"),this.$router.push({path:"/read/".concat(t,"/").concat(o)})}},components:{HoriFour:u},watch:{$route:function(t,o){t.params.id!=o.params.id&&(this.bookId=t.params.id,this.getNovelDetail())}}},k=h,b=(e("a4df"),Object(l["a"])(k,a,s,!1,null,"237de73a",null));o["default"]=b.exports}}]);
//# sourceMappingURL=chunk-4251ec72.026cd4d8.js.map